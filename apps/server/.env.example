# Database
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/synthesis

# Anthropic API
ANTHROPIC_API_KEY=your-api-key-here

# Ollama
OLLAMA_HOST=http://localhost:11434

# Storage
STORAGE_PATH=./storage

# MCP Server
MCP_MODE=stdio
MCP_PORT=3334

# Phase 8: Hybrid Search & Multi-Provider Embeddings
# Switch between 'vector' (default) and 'hybrid' search strategies.
SEARCH_MODE=vector
# Enable to apply trust weighting for official/verified sources.
ENABLE_TRUST_SCORING=false
# Adjust how hybrid search balances semantic vs lexical results.
HYBRID_VECTOR_WEIGHT=0.7
HYBRID_BM25_WEIGHT=0.3
# Default PostgreSQL full-text search language.
FTS_LANGUAGE=english

# Embedding Providers (Ollama is local/free; OpenAI & Voyage are managed APIs)
DOC_EMBEDDING_PROVIDER=ollama
CODE_EMBEDDING_PROVIDER=voyage
WRITING_EMBEDDING_PROVIDER=openai

# External Embedding API Keys
OPENAI_API_KEY=
VOYAGE_API_KEY=

# Phase 12: Re-ranking & Synthesis
# Provider selection: 'bge' (local fallback), 'cohere', or 'none'
RERANKER_PROVIDER=none
# Cohere API key required when using Cohere reranker
COHERE_API_KEY=
# Optional tuning
RERANK_MAX_CANDIDATES=50
RERANK_DEFAULT_TOP_K=15
RERANK_BATCH_SIZE=10

# Phase 12: Synthesis & Contradiction Detection
# Toggle LLM-powered synthesis/contradiction flows
ENABLE_SYNTHESIS=false
ENABLE_CONTRADICTION_DETECTION=false
CONTRADICTION_MODEL=claude-3-haiku-20240307
CONTRADICTION_MAX_PAIRS=6
CONTRADICTION_CACHE_TTL=86400
CONTRADICTION_MIN_SIMILARITY=0.2
CONTRADICTION_MAX_SIMILARITY=0.7

# Phase 12: Cost Monitoring
MONTHLY_BUDGET_USD=10
ENABLE_COST_ALERTS=true
